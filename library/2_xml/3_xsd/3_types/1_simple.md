Простой тип
Существующие простые типы
=========================

В XML схеме определено множество простых типов, которые могут применяться для типизации узлов и атрибутов. Ниже перечислены некоторые из них:

* string - строка;
* byte - число от -1 до 126;
* unsignedByte - число от 0 до 126;
* base64Binary - бинарные данные, закодированные с помощью алгоритма base64;
* hexBinary - бинарные данные в шестнадцатиричной системе счисления;
* integer - целое число от -126789 до 126789;
* positiveInteger - положительное целое число от 1 до 126789;
* negativeInteger - отрицательное целое число от -126789 до -1;
* nonNegativeInteger - положительное целое число от 0 до 126789;
* nonPositiveInteger - отрицательное целое число от -126789 до 0;
* int - число от -1 до 126789675;
* unsignedInt - число от 0 до 1267896754;
* long - число от -1 до 12678967543233;
* unsignedLong - число от 0 до 12678967543233;
* short - число от -1 до 12678;
* unsignedShort - число от 0 до 12678;
* decimal - дробное число;
* float - число с плавающей точкой;
* double - число с плавающей точкой и удвоенной точностью;
* boolean - true, 1, false, 0;
* time - время в формате ЧЧ:ММ:СС.ммм или ЧЧ:ММ:СС.ммм-ЧЧ:ММ для представления времени с указанием часового пояса;
* date - дата в формате ГГ:ММ:ДД;
* dateTime - дата и время в формате ГГ:ММ:ДДTЧЧ:ММ:СС.ммм-ЧЧ:ММ (T специальный разделитель времени);
* gMonth - месяц в формате --ММ--;
* gYear - год в формате ГГГГ;
* gYearMonth - год и месяц в формате ГГГГ-ММ;
* gDay - день в формате ---ДД;
* gMonthDay - месяц в формате --ММ-ДД;
* anyURI - URI адрес;
* language - язык (en-GB, en-US, fr и т.д.).

Создание простых типов
======================

Новые простые типы создаются по средствам наследования и уточнения уже имеющихся простых типов и элемента 'simpleType'. Данный элемент должен включать атрибут 'name', определяющий имя нового простого типа, и один из следующих вложенных элементов:

* restriction - наследование существующего простого типа и уточнение его с помощью фильтров;
* list - списочный простой тип, значения которого разделены пробелом;
* union - простой тип, значение которого может соответствовать одному из заданных простых типов, перечисленных в объединении.

Наследование
------------

Для создания простого типа через наследование, используется запись вида:

    <simpleType name="имяТипа">
      <restriction base="имяБазовогоТипа">
        <фильтры>
      </restriction>
    </simpleType>

Таким образом новый тип наследует все ограничения (фильтры) базового типа и уточняет их собственными.

Ниже приведен пример создания простого типа, определяющего глобальный идентификатор GUID версии 4:

    <simpleType name="guid4">
      <restriction base="string">
        <pattern value="[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-4[0-9a-fA-F]{3}\-[89AaBb][0-9a-fA-F]{3}\-[0-9a-fA-F]{12}"/>
      </restriction>
    </simpleType>

Перечисление
------------

Для создания простого типа, значения которого представляют собой множество, элементы которого разделены пробелом, используется запись вида:

    <simpleType name="имяТипа">
      <list itemType="типЭлементов"/>
    </simpleType>

Таким образом новый тип будет определять множество, элементы которого соответствуют "типу элементов".

Ниже приведен пример создания простого типа, определяющего список чисел:

    <simpleType name="intList">
      <list itemType="integer"/>
    </simpleType>

Элемент данного типа может содержать данные вида: 0 2 -14 - и так далее.

Объединение
-----------

Для создания простого типа, значения которого могут соответствовать одновременно двум или более простым типам, используется запись вида:

    <simpleType name="имяТипа">
      <union>
        <simpleType>...</simpleType>
        <simpleType>...</simpleType>
        ...
      </union>
    </simpleType>

Элемент данного типа может включать значения, соответствующие любому из указанных в объединении простых типов.

Ниже приведен пример простого типа, определяющего размеры шрифта в числовой и буквенной нотации:

    <simpleType>
      <union>
        <simpleType>
          <restriction base="positiveInteger">
            <minInclusive value="8"/>
            <maxInclusive value="72"/>
          </restriction>
        </simpleType>
        <simpleType>
          <restriction base="NMTOKEN">
            <enumeration value="small"/>
            <enumeration value="medium"/>
            <enumeration value="large"/>
          </restriction>
        </simpleType>
      </union>
    </simpleType>
    
Данному типу могут соответствовать как числа от 8 до 72, так и строки 'small', 'medium' и 'large'.

Фильтры
=======

Как уже было сказано ранее, значения простых типов в элементе 'restriction' могут быть отфильтрованы. Для этого используются следующие теги:

* Общие:
    * `pattern value="regex"` - фильтрация с помощью регулярного выражения;
    * `enumeration value="значение"` - выбор из одного из "значений" (используется несколько узлов enumeration для каждого значения) (не используется для boolean типа).
* Строковые:
    * `length value="число"` - длина строки (только для строк);
    * `minLength value="число"` - минимальная длина строки (только для строк);
    * `maxLength value="число"` - максимальная длина строки (только для строк);
* Числовые и дата/время:
    * `minInclusive value="число"` - минимальное значение включительно;
    * `maxInclusive value="число"` - максимальное значение включительно;
    * `minExclusive value="число"` - минимальное значение не включительно;
    * `maxExclusive value="число"` - максимальное значение не включительно;
    * `totalDigits value="число"` - максимальное число разрядов целой части (кроме даты и времени);
    * `fractionDigits value="число"` - минимальное (отображаемое) число разрядов дробной части (кроме даты и времени).

Ниже приведен пример, определяющий простой тип с перечислением:

    <simpleType name="size">
      <restriction base="string">
        <enumeration value="small"/> 
        <enumeration value="medium"/> 
        <enumeration value="large"/> 
      </restriction>
    </simpleType>

Ниже приведен пример, определяющий простой тип цены:

    <simpleType name='price'>
      <restriction base='decimal'>
        <totalDigits value='4'/>
        <fractionDigits value='2'/>
        <minInclusive value='0.00'/>
      </restriction>
    </simpleType>
