Циклические структуры while и until.
Структура while
===============

Циклическая структура while используется для повторного выполнения блока кода до достижения некоторого условия. Она имеет вид:

  `while <условие>; do
    <тело>;
  done`

Здесь "тело" цикла выполняется до тех пор, пока "условие" истино.

Команда done может быть перенаправлена. Это означает, что весь вывод цикла будет перенаправлен на заданный поток.

Ниже приведен пример цикла while, непрерывно запрашивающий у пользователя ввод данных и выводящий его действия в файл до тех пор, пока пользовать не введет "q":

  `cmd='';
  while [ $cmd != 'q' ]; do
    echo 'Вы ввели команду ' $cmd;
    read cmd;
  done > log`

Структура until
===============

Циклическая структура until аналогична while с той лишь разницей, что она выполняет цикл до тех пор, пока "условие" ложно. Она имеет вид:

  `until <условие>; do
    <тело>;
  done`

Построчное чтение входного потока или файла
===========================================

Для построчного чтения входного потока в цикле используется конструкция while следующего вида:

  `while read line; do
    <тело>;
  done`

Здесь строки последовательно считываются в переменную line, которая может быть обработана в "теле" цикла.

Если необходимо выполнить построчное чтение из файла, достаточно перенаправить вывод содержимого файла в цикл:

  `cat filename | while read line; do
    <тело>;
  done`
