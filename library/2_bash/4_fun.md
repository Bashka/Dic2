Подпрограммы и утилиты.
Объявление подпрограмм
======================

Для объявления подпрограммы (функции) используется запись вида:

  `function <имя> {
    <тело>
  }`

Здесь в качестве имени функции может выступать любая последовательность букв, цифр и знака подчеркивания, начинающаяся с буквы или знака подчеркивания. Регистр символов учитывается.

Объявленные таким образом подпрограммы перекрывают существующие утилиты системы.

Управление аргументами подпрограмм и утилит
===========================================

Аргументы и информация о них хранятся в специальных переменных, перечисленных ниже:

* `$<номер>` - значение аргумента под указанным номером;
* `$0` - имя утилиты (нет в подпрограммах);
* `$#` - количество аргументов, переданных скрипту;
* `$*` - все аргументы скрипта в виде строки;
* `$?` - код завершения последнего выполненного процесса;
* `$$` - идентификатор текущего процесса;
* `$!` - идентификатор последнего запущенного асинхронного процесса.

Вызов утилит и подпрограмм
==========================

Для использования подпрограммы достаточно вызвать ее подобно утилите:

  `<имя>[ <аргументы>];`

Аргументы передаются аналогично передаче их утилите.

Ниже приведены различные способы вызова утилит и подпрограмм, а так же перенаправление их стандартных потоков:

* `. <команда>` - выполнение указанной команды в текущей оболочке;
* ``<команда>`` - выполнение указанной команды и подстановка вместо нее результатов выполнения;
* `<комманда>; <комманда>` - последовательное выполнение указанных команд;
* `<команда> && <команда>` - выполнение второй команды в случае успешного выполнение первой;
* `<команда> || <команда>` - выполнение второй команды в случае невыполнения первой;
* `<команда> &` - выполнение команды асинхронно (в фоновом режиме);
* `<команда> & <команда>` - выполнение второй команды вместе с первой;
* `<команда> | <команда>` - передача результатов работы первой команды на вход второй;
* `(<команда>; <команда>)` - объединение результатов работы двух команд в один выходной поток;
* `<команда> > <файл>` - передача результатов работы команды в файл (STDOUT в файл);
* `<команда> >> <файл>` - добавление результатов работы команды в конец файла (STDOUT в файл);
* `<команда> < <файл>` - передача содержимого файла на вход команды (STDIN из файла);
* `<команда> 2> <файл>` - передача потока ошибок в файл (STDERR в файл);
* `<команда> 2>&1` - объединение потока ошибок с потоком вывода (STDERR в STDOUT);
* `<команда> 1>&2` - объединение потока вывода с потоком ошибок (STDOUT в STDERR);
* `<команда> << <строка>` - получение входного потока из файла команды от текущей позиции до вхождения строки.
