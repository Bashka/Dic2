Пакеты и модули.
ФАЙЛ ПАКЕТА
Для создания пакета необходимо создать файл, имя которого соответствует имени пакета с расширением pm. Так, для пакета с именем MyPackage файл его содержащий должен называться MyPackage.pm.

ОБЪЯВЛЕНИЕ ПРОСТРАНСТВА ИМЕН
Для объявления пространства имен пакета используется запись:

  namespace <имя>;

Соглашение Perl требует, чтобы имя пакета начиналось с заглавной буквы. Пакет можно разместить в каталоге, при этом пространство имен должно повторить адрес файла в файловой системе по средствам объявления подпространств, разделенных символом ::

  namespace <имяКаталога>::<имяПакета>;

Ниже пирведен пример пространства имен для пакета MyPackage, размещенного в каталоге packages/my/:

  namespace <packages>::<my>::MyPackage;

ИСПОЛЬЗОВАНИЕ ПАКЕТА
Для подключение пакета к текущему скрипту используется запись:

  use [<имяКаталога>::]<имяПакета>;

При этом все переменные и функции, объявленные в данном пакете будут доступны в текущем скрипте. Perl самостоятельно найден файл пакета в файловой системе по полному имени пакета и загрузит его.

Важно помнить что операция use действует на уровне текущего блока, то есть после выхода из блока кода, в котором она используется, подключаемый ею пакет будет недоступен. Так же можно отключить пакет принудительно с помощью следующей записи:

  no [<имяКаталога>::]<имяПакета>;

Для доступа к переменным и функциям пакета используется запись:

  <полноеИмяПакета>::<переменная>;
  <полноеИмяПакета>::<функция>();

Ниже приведен пример подключения и использования пакета MyPackage.pm:

  use MyPackage;
  $MyPackage::var = 1; # Использование переменной пакета.
  MyPackage::fun(); # Вызов функции пакета.

Для получения имени текущего пакета используется константа __PACKAGE__.
