template - автоматическая генерация нового документа
Описание
========

Плагин template позволяет сформировать новый документ на основании шаблонов. Данный плагин позволяет определить тип документа не только по по расширению файла, но и по его названию (удобно для Unit-tests файлов).

Установка
=========

Для установки template необходимо:

1. Скачать архив с плагином из репозитория по адресу <http://www.vim.org/scripts/script.php?script_id=2834>;
2. Установить плагин согласно инструкции по установке.

Для возможности добавления переменных и блоков кода в шаблоны следует добавить следующий код в файл `vimrc`:

    
    autocmd User plugin-template-loaded call s:template_keywords()
    function! s:template_keywords()
    	if search('<+FILE_NAME+>')
    		silent %s/<+FILE_NAME+>/\=toupper(expand('%:t:r'))/g
    	endif
    	if search('<+DATE+>')
    		silent %s/<+DATE+>/\=strftime('%Y-%m-%d')/g
    	endif
    	if search('<+CURSOR+>')
    		execute 'normal! "_da>'
    	endif
    	silent %s/\v`s! ([^`]+)`/\=system(submatch(1))/ge
    	silent %s/\v`([^`]+)`/\=eval(submatch(1))/ge
    endfunction

После этого в файлах-шаблонах можно использовать следующие маркеры:

* `<+FILE_NAME+>` - имя текущего файла (без расширения);
* `<+DATE+>` - текущая дата;
* `<+CURSOR+>` - место установки курсора при открытии файла;
* `` `VimScrip код` `` - код на языке VimScrip, результаты которого будут вставлены на место маркера;
* `` `s! Shell код` `` - код на языке Shell, результаты которого будут вставлены на место маркера.

Использование
=============

Для выбора файла-шаблона для конкретного типа файла плагин использует каталог `template` (определено в переменной `g:template_free_pattern`), расположенный по любому из адресов, перечисленных в переменной `g:template_basedir`.

Имя файла-шаблона должно содержать слово `template`, остальные части имени должны соответствовать имени нового файла. Ниже приведено несколько примеров этих соответствий:

|     Имя файла    |Загружаемый шаблон|
|------------------|------------------|
|foo.vim           |template.vim      |
|tests/foo.c       |tests/template.c  |
|template_test.php |MyClass_test.php  |
|doc/man.txt       |doc/template.txt  |

При создании нового файла, для которого определен файл-шаблон, содержимое этого шаблона будет вставлено в открываемый файл.
