Массивы
Работа с массивами
==================

Для объявления и инициализации массива используется команда:

    let <переменная> = [<значение>, <значение>, ...]

Для доступа к элементам массива используется указание его индекса (индексация с нуля):

    <массив>[<индекс>]

Если в качестве "индекса" используется отрицательное значение, отсчет ведется с конца (индексация с -1).

Аналогично устанавливается значение элементу массива:

    let <массив>[<индекс>] = <значение>

Для создания многомерного массива можно использовать вложенность:

    let <переменная> = [[...], [...], ...]

Доступ к элементам таких массивов осуществляется через последовательное перечисление индексов:

    <массив>[<индекс>][<индекс>]

Массивы присваиваются по ссылке.

Для присвоения элементов массива переменным используется операция распаковки:

    let [<переменная>, <переменная>, ...] = <массив>

Аналогично можно изменить значения нескольких элементов массива:

    let <массив>[<начало>:<конец>] = [<значение>, <значение>, ...]

Операции над массивами
======================

Для массивов определены следующие операции:

* `+` - объединение массивов (с повторением).

Для работы с массивами определены следующие функции:

* `copy(<массив>)` - создает и возвращает копию массива;
* `deepcopy(<массив>)` - рекурсивно создает и возвращает копию массива;
* `get(<массив>, <индекс>[, <значение>])` - получить значение ячейки массива. Если "индекс" целевой ячейки выходит за границы массива, то будет возвращено "значение", указанное третьим аргументом;
* `empty(<массив>)` - функция определяет, пуст ли массив;
* `range(<начало>[, <конец>[, <шаг>]])` - создание и возврат массива со значениями из указанного диапазона;
* `len(<массив>)` - определение длины массива;
* `max(<массив>)` - нахождение максимального элемента массива;
* `min(<массив>)` - нахождение минимального элемента массива;
* `insert(<массив>, <элемент>[, <позиция>])` - добавление элемента в конец или заданную "позицию" массива;
* `add(<массив>, <элемент>)` - добавление элемента в конец массива;
* `remove(<массив>, <начало>[, <окончание>])` - удаление заданного диапазона элементов (включительно границы) из массива и их возврат;
* `<массив>[<начало>:<конец>]` - получение среза массива. По умолчанию "начало" и "конец" диапазона имеют значения 0 и -1 соответственно. Если в качестве "конца" диапазона используется отрицательная величина, то отсчет ведется с конца массива;
* `sort(<массив>[, <функция>])` - сортировка массива (по умолчанию возрастающая). В качестве "функции" можно указать функцию, принимающую два аргумента (проверяемые значения массива) и возвращающую 0 если они равны, 1 если первый аргумент больше и -1 если меньше второго;
* `reverse(<массив>)` - перевернуть массив;
* `index(<массив>, <значение>[, <начало>])` - поиск "значения" в "массиве" и возврат индекса ячейки, его хранящей. Если значение не найдено в массиве, функция возвращает -1;
* `count(<массив>, <значение>)` - подсчет числа вхождений заданного "значения" в "массив";
* `map(<массив>, '<команда>')` - применение заданной "команды" (в виде строки) к каждому элементу массива (переменная `v:val` содержит значение текущего элемента);
* `filter(<массив>, '<команда>')` - исключение из массива элементов, не удовлетворяющих критериям "команды" (в виде строки) (переменная `v:val` содержит значение текущего элемента).
