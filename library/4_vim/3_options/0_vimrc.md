Файлы настроек и опции
Файлы настроек
==============

Для настройки Vim используются специальные файлы, содержащие скрипты на языке VimScript, которые и изменяются поведение редактора на требуемое.

Файлы настроек обычно располагаются в следующих местах:

* $VIMRUNTIME/vimrc - глобальный файл настроек, используемый для конфигурации редактора применительно ко всем пользователям;
* $HOME/.vimrc (для UNIX систем) и $HOME/_vimrc (для систем семейства Windows) - локальный файл настроек, используемый для конфигурации редактора конкретного пользователя. 

Если файла настроек нет по указанному адресу, его можно самостоятельно создать.

Эти файлы подключаются автоматически при запуске Vim. Вместе с ними так же загружаются некоторые другие скрипты для тонкой настройки Vim, а так же сторонние модули. Список всех загруженных скриптов можно посмотреть с помощью команды `:scriptnames` редактора.

Типизированные файлы настроек
-----------------------------

Файлы vimrc подключаются для всех типов редактируемых файлов. Если необходимо использовать специальные настройки для различных типов файлов (на пример одни для XML файлов, а другие для C), то применяются следующий подход:

1. В файле vimrc добавляются строки `filetype on` и `filetype plugin on`. Первая заставляет Vim автоматически определять тип файла, а вторая - подключать файлы настроек из описанных ниже каталогов;
2. В каталоге $HOME/.vim (для UNIX систем) или $HOME/_vimfiles (для систем семейства Windows) создается каталог ftplugin;
3. Далее возможен один из двух подходов:
    1. В каталоге ftplugin создается каталог, имя которого соответствует требуемому типу файла (на пример каталог с именем xml). В созданный каталог помещаются все файлы VimScript. Такой подход используется, если необходимо загрузить несколько файлов настроек для данного типа файла;
    2. В каталоге ftplugin создается файл, имя которого имеет вид `тип_rc.vim` (на пример для файлов типа xml он должен называться `xml_rc.vim). В данный файл помещается VimScript. Такой подход используется, когда необходимо указать основные настройки для данного типа файла. Остальные настройки выносятся в каталоги, описанные в первом подходе.

Как и файлы vimrc, каталог ftplugin существует не только локально. Аналогичный каталог с предустановленными VimScript файлами имеется по адресу $VIMRUNTIME/ftplugin (после включения опции `filetype plugin on` все они будут загружаться). Его можно использовать для создания глобальных типизированных файлов настроек.

Опции Vim
=========

В файлах настроек могут присутствовать любой код на языке VimScript, но чаще они содержат команды для задания значений опциям редактора.

Для установки значений опциям редактора используется два подхода:

* `:options` - данная команда открывает специальное окно со списком опций. В нем можно как изменять имеющиеся опции, так и изучать их. Файл разделен на разделы. Для перехода к конкретному разделу следует установить указатель на его названии и нажать Enter. Все опции сопровождаются комментариями, но можно изучить их более подробно, если установить указатель на названии опции и нажать Enter. Для изменения значения опции используется либо прямое редактирование опции, либо установка указателя на значение опции и нажатие Enter;
* `set опция` - данная команда задает значение для конкретной опции. В отличии от `:options`, который распространяется только на данный файл, указание `set` в файлах настроек позволяет закрепить значения за опциями постоянно.

Для определения текущего значения опции используется команда `:echo &опция`.

Ниже приведены некоторые опции Vim:

|Наименование |Тип |Значения|Описание|Пример|
|-------------|----|--------|--------|------|
|autoindent   |bool|autoindent, noautoindent|При включении данной опции, новые строки будут иметь тот же отступ, что и текущие |set autoindent |
|autowriteall |bool|autowriteall, noautowriteall|Автоматическая запись всех изменений в файле при закрытии или переходе к другому файлу |set autowriteall |
|binary       |bool|binary, nobinary|Используется при редактировании бинарных файлов |set binary |
|bomb         |bool|bomb, nobomb|Добавление BOM при записи файла в кодировке UTF-8|set bomb |
|cmdheight    |int ||Высота командной строки редактора|set cmdheight=2|
|debug        |str |"", msg |Опция определяет, выводить ли сообщения об ошибках на экран|set debug=msg |
|encoding     |str |utf-8, ... |Используемая кодировка |set encoding=utf-8 |
|expandtab    |bool|expandtab, noexpandtab |Если данная опция активирована, отступы записываются в виде пробелов |set expandtab |
|fileformat   |str |unix,mac,dos |Опция определяет способ представления символа конца строки (\r, \n, \r\n) |set fileformat=unix |
|filetype     |str |"" |При задании любого значения данной опции, выполняются автокоманды, определяющие тип файла (`autocmd FileType`) |
|foldclose    |str |"", all |Если эта опция имеет значение "all", то складки будут закрываться автоматически, если курсор находится не в них |set foldclose=all |
|foldcolumn   |int |0-12|Данная опция задает ширину левого поля, содержащего состояния вкладок документа |set foldcolumn=2|
|foldenable   |bool|foldenable, nofoldenable |Если данная опция отключена, то все складки разворачиваются (отключаются) |set foldenable|
|foldexpr     |str ||Выражение, вычисляемое для каждой строки для определения ее уровня складки, используется опция `foldmethod=expr` ||
|foldignore   |str ||Если опция `foldmethod=indent`, то все строки, начинающиеся с указанных здесь символов, будут иметь тот же уровень отступа, что и соседние строки |set foldignore=//|
|foldlevel    |int ||Опция задает уровень, все складки выше которого должны быть закрыты |set foldlevel=0 |
|foldlevelstart |int ||Опция задает уровень, все складки выше которого должны быть закрыты в новом документе |set foldlevelstart=1 |
|foldmarker   |str ||Опция задает символьные маркеры, используемые для определения границ складок для `foldmethod=marker`|set foldmarker=<<,>>|
|foldmethod   |str |manual, indent, expr, marker, syntax, diff |Метод, определяющий уровни складок. Для значений это соответственно: ручное определение, на основе пробелов, на основе функции вычисления уровня, на основе маркеров, в соответствии с правилами подсветки синтаксиса, неизмененные фрагменты текста |set foldmethod=indent|
|foldminlines |int ||Минимальное число строк, которые могут входить в закрывающуюся складку |set foldminlines=2|
|foldnestmax  |int |1-20 |Для `foldmethod=indent` и `foldmethod=syntax` определяет максимальное возможное число вложенных складок |set foldnestmax=5|
|foldopen     |str |block, all, hor, insert, persent |Опция определяет команды, которые используются для открытия вкладки, на которой установлен курсор. В соответствии со значениями это: стандартные команды открытия складок, любые команды, команды горизонтального позиционирования курсора, команды режима вставки, команда `%` |set foldopen=hor|
|foldtext     |str ||Опция используется для задания функции, определяющей текст, отображаемый на месте закрытой вкладки||
|helpfile     |str ||Опция задает абсолютный адрес до основного файла справки, который открывается при вызове команды `:help`||
|helpheight   |int ||Опция задает минимальную высоту окна справки|set helpheight=30|
|helplang     |str ||Опция задает список языков, расположенных по приоритету. Она определяет какие файлы справки доступны в системе|set helplang=ru,en|
|history      |int ||Число команд, которые сохраняются в истории для режима командной строки|set history=20|
|ignorecase   |bool|ignorecase, noignorecase|Опция заставляет Vim игнорировать регистр символов при поиске|set ignorecase|
